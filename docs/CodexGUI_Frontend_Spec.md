# CodexGUI 프론트엔드 설계 문서 (정식판)
CodexGUI 프론트엔드 설계 문서

기본 UI 언어는 영문, UI에 사용되는 모든 시스템 스트링은 별도의 데이터 시트 파일을 통해 다국어 대응 가능
최종 대응 목표 언어 목록 (중요도 순): 영어, 한국어, 중국어, 스페인어, 일본어, 독일어, 이탈리아어, 프랑스어

기본적으로 모든 레이아웃 영역의 길이는 최소 필요 면적 기준으로 작성됨. 최소 면적 이상으로 크기 변경시 적절히 앵커 처리 되어야 함.


## 장면:실행

  ↓
<판별:OpenAI API Validate> → fail시 성공할 때까지 API키 입력 박스만 표시 (Validate 이후에도 설정을 통해 수정 가능), 하단 우측 확인 버튼
  ↓

## 장면:프로젝트 목록


### 기능

	- 유저가 현재까지 등록하여 작업중인 프로젝트 목록 확인 및 수정
	- 비서 아바타 페르소나 시각적 제공 여부 확인
	- 비서 아바타 페르소나 이미지 표시 및 설정
	- CodexGUI의 시스템 설정 확인 및 수정
	- (가능하다면) 현재 OpenAPI 잔여 토큰 표시


### 레이아웃

	- 최소 필요 면적 : 420x640px
	- 기본 마진 : 상하좌우 4px
	- 최상단 32px 가로줄: 우측 정렬로 현재 남은 잔여 토큰 표시. 기술적으로 불가할 시 해당 영역 제거.
	- (아바타 사용시) 상단 아바타 영역 : 최소 높이 160px
		아바타 영역 왼쪽에 정사각형 포트레이트 표시 : 144x144px, 상하좌 8px 마진
		포트레이트 우측에 상단 마진 8px로 아바타 이름 표기, 높이 24px
		이름 우측에 "edit" 버튼 폭 64px, 수정버튼 우측에 "save" 버튼 폭 64px
		버튼들은 우측 정렬, 포트레이트와 버튼 사이 남는 영역에 이름 표기
		아바타 이름 표기 밑에 넓게 아바타에 대한 설정, 역할 등의 페르소나 프롬프트 표기
		edit 버튼 클릭시 이름, 페르소나 칸이 입력 가능한 인풋패널로 변경, 포트레이트 클릭시 이미지 시퀀스 변경, edit 버튼이 done 버튼으로 변경, save 버튼이 cancel 버튼으로 변경.
		done 버튼 클릭시 수정사항이 반영. cancel 버튼 클릭시 수정 이전 상태로 원복. 둘 다 수정모드에서 탈출.
	- (아바타 미사용) 아바타 사용 여부 토글 버튼 : 최소 높이 24px
	- 아바타 영역 하단부터 최하단에서 72px 위까지 현재 저장된 모든 프로젝트 목록 표시, 상단 정렬, 상하 스크롤 영역 지원
	- 즐겨찾기 표시된 프로젝트들이 상단에 우선 표시됨. 이외에는 가장 최근에 수정한 프로젝트가 더 위로 정렬.
	- 프로젝트 목록 영역 최상단에 항상 높이 20px, 폰트 16px로 "새 프로젝트 추가" 버튼 표시 (마진은 아래 아이템 박스와 동일)
	- 각 프로젝트 아이템 박스는 스크롤 영역 내 좌우 마진 4px, 아이템간 간격 4px, 높이 48px
	- 프로젝트 아이템 이름은 박스 내 상좌우 마진 4px, 폰트 높이 24px, 좌측 정렬
	- 프로젝트 우하단 마진 2px, 마지막 수정 시각 YYYY-MM-DD, hh:mm 형식으로 표시, 폰트 높이 16px
	- 프로젝트 아이템 단일 클릭시 해당 프로젝트 장면으로 이동.
	- 프로젝트 아이템 오른쪽으로 슬라이드시 "프로젝트를 삭제하시겠습니까? 작업 기록만 삭제되며 대상 프로젝트 폴더는 그대로 남습니다." 경고 팝업 표시. "확인", "취소" 버튼 우 하단에 표시, 취소 버튼은 바로 활성화, 확인 버튼은 2초 뒤 활성화.
	- 프로젝트 아이템 좌측으로 슬라이드시 즐겨찾기 등록, 이미 등록되어있는 경우는 해제.

	- 프로젝트 목록 스크롤 영역 하단 남는 공간 72px에 대해서:
		- 높이 28px, 마진 및 간격 4px로 각종 시스템 관련 버튼 표시 (API설정, UI설정, 플러그인, 루트폴더)
			- API설정: API키 수정 팝업 표시
			- UI설정: 라이트모드, 다크모드, 시스템모드 변경
			- 플러그인: 각종 외부 도구 및 기능 목록 표시. 루트 폴더에 저장된 패키지 묶음으로 제공되며, 기본적으로 파일시스템과 깃 두 가지가 표시될 예정 (구현상의 사양에 따라 변경 가능)
			- 루트폴더: 사용자 데이터 및 로그가 저장되는 데이터 폴더를 탐색기에서 표시
		- 시스템 관련 버튼 아래에는 현재 버전 및 업데이트 정보 표시.

  ↓

## 장면:프로젝트 정보


### 기능

	- 현재 프로젝트에 대한 진행 현황 확인 (최하단이 최신, 기본 10개까지 표시, 스크롤 올릴때마다 10개씩 추가 로드)
	- 현재 Codex의 작업중인 로그 확인
	- 현재 프로젝트의 로컬 디렉토리 확인
	- (가능하다면) 현재 OpenAPI 잔여 토큰 표시



### 레이아웃

	- 최소 필요 면적 : 420x640px
	- 기본 마진 : 상하좌우 4px
	- 최상단 32px 가로줄: 우측 정렬로 현재 남은 잔여 토큰 표시. 기술적으로 불가할 시 해당 영역 제거.
	- (아바타 사용시) 프로젝트 목록과 큰 배치는 동일하나, edit 및 save 버튼 없고 "대기중", "답변중", "작업중", "오류", "기뻐요!" 상태 라벨 표시
				또한 페르소나 프롬프트 칸 대신 현재 작업중인 시스템 로그만 표시됨
				답변 진행 도중 상태 라벨에 커서 올려놓고 있을때만 작업 강제중단 버튼으로 바뀌어 표시됨. 클릭시 작업 강제중단.
			아바타 포트레이트 이미지는 높이 기준으로 정사각형으로 나누어 각 상태별 5프레임씩 제공
			가로 5등분, 세로 4등분 하여 정사각형이 아니면 오류. 일치하면 슬라이스하여 각 상태마다 초당 3프레임씩 애니메이트.
			즉, 위에서부터 좌>우 방향으로 "대기중" 5프레임, "답변중" 5프레임, "작업중" 5프레임, "오류" 5프레임, "기뻐요!" 5프레임이 할당되는 것. 이는 앞선 프로젝트 목록 장면에서 아바타 수정 기능에도 마찬가지로 제공되어야 함.
	- (아바타 미사용)  아바타 사용 여부 토글 버튼 : 최소 높이 24px
	- 아바타 영역 하단부터 최하단에서 72px 위까지 좌측 100px 영역 분리, 가장 최근에 수정한 파일 목록을 표시하며 마진 및 간격 2px, 각 아이템 96x96px, 하단 정렬, 상하 스크롤 영역 지원
	- 가장 최근 수정한 파일 목록 클릭시 해당 파일이 저장되어있는 디렉토리를 탐색기에서 표시
	- 최근 수정한 파일 목록 우측의 최하단에서 72px 위까지 현재 저장된 모든 대화 기록 표시, 하단 정렬, 상하 스크롤 영역 지원

	- 프로젝트 정보 영역 하단 남는 공간 72px에 대해서:
		높이 48px 영역에 채팅 입력 영역 표시, 하단 마진 4px 제공
		채팅 입력 영역 아래쪽, 좌측 100px 영역에 참고용 로컬 데이터 파일 추가 버튼 "+"표시
		채팅 입력 영역 아래쪽, 우측 64px 영역에 채팅 보내기 버튼 "▶" 표시
